webpackJsonp([1],{"+DRP":function(t,e){},0:function(t,e){},"05Yl":function(t,e){},1:function(t,e){},"2OIX":function(t,e){},"2xuH":function(t,e){},"4Qvr":function(t,e){},"8Adb":function(t,e){},AQv9:function(t,e){},B56u:function(t,e){},FMDp:function(t,e){},HZPN:function(t,e){},INW7:function(t,e){},JKqy:function(t,e){},MSAe:function(t,e){},"McQ+":function(t,e){},N88b:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("//Fk"),a=s.n(i),n=s("7+uW"),r=s("mtWM"),o=s.n(r),c=s("Dd8w"),l=s.n(c),d=s("NYxO"),u={props:["serverSignal"],data:function(){return{signalNoticed:!1,errorMessage:""}},computed:l()({},Object(d.c)({form:"LOGIN_G_GET_FORM"})),watch:{serverSignal:function(){console.log(this.serverSignal),this.validateField()}},methods:{}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"name"}},[t._v("Username")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",attrs:{id:"name",name:"name",maxlength:"16",type:"text"},domProps:{value:t.form.email},on:{input:[function(e){e.target.composing||t.$set(t.form,"email",e.target.value)},t.validate]}}),t._v(" "),t.isValid||t.isTouched?t._e():s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errorMessage))])])},staticRenderFns:[]},_=s("VU/8")(u,h,!1,function(t){s("X2Ns")},"data-v-58653b4a",null).exports,v={data:function(){return{errorMessage:"",password:""}},computed:l()({},Object(d.c)({form:"LOGIN_G_GET_FORM"}))},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"name"}},[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{id:"name",name:"name",maxlength:"100",type:"password"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t._v(" "),t.isValid||t.isTouched?t._e():s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errorMessage))])])},staticRenderFns:[]},m={data:function(){return{serverSignal:{errmsg:""}}},components:{UsernameField:_,PasswordField:s("VU/8")(v,f,!1,function(t){s("4Qvr")},"data-v-ff1810d0",null).exports},methods:l()({},Object(d.b)({submit:"LOGIN_SEND_A_LOGIN_REQUEST"})),created:function(){}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal fade",attrs:{id:"LogInModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[this._m(0,!1,!1),this._v(" "),e("div",{staticClass:"modal-body"},[e("form",[e("hr",{staticClass:"modal-divider"}),this._v(" "),e("username-field",{attrs:{serverSignal:this.serverSignal}}),this._v(" "),e("password-field")],1),this._v(" "),e("hr",{staticClass:"modal-divider"})]),this._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")]),this._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!1===this.pass},on:{click:this.submit}},[this._v("Submit")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h2",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Log in"),e("span",{staticClass:"logo"},[this._v("Werewolf")])]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},g=s("VU/8")(m,p,!1,function(t){s("lzk6")},"data-v-44cdb48e",null).exports,C={props:["serverResponse"],data:function(){return{isValid:!1,isTouched:!0,signalNoticed:!1,errorMessage:"",username:""}},watch:{serverResponse:function(){console.log(this.serverResponse),this.validateField()}},methods:l()({},Object(d.d)({setField:"SIGN_UP_M_SET_FIELD"}),{validateField:function(){this.isTouched&&(this.isTouched=!1),this.signalNoticed||-1===this.serverResponse.errmsg.indexOf("username")?0===this.username.length?(this.isValid=!1,this.errorMessage="Field mustn't be empty!",this.setField({field:"username",state:!1})):this.username.match("^[A-Za-z0-9_.]+$")?(this.isValid=!0,this.setField({field:"username",state:!0,value:this.username})):(this.isValid=!1,this.errorMessage="Entered username is not valid!",this.setField({field:"username",state:!1})):(this.signalNoticed=!0,this.isValid=!1,this.errorMessage="This username already exists!")}})},T={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"name"}},[t._v("Username")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",class:{"is-invalid":!t.isValid&&!t.isTouched},attrs:{id:"name",name:"name",maxlength:"16",type:"text"},domProps:{value:t.username},on:{input:[function(e){e.target.composing||(t.username=e.target.value)},t.validateField]}}),t._v(" "),t.isValid||t.isTouched?t._e():s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errorMessage))])])},staticRenderFns:[]},E=s("VU/8")(C,T,!1,function(t){s("m3nD")},"data-v-5749e22c",null).exports,S={props:["serverResponse"],data:function(){return{isValid:!1,isTouched:!0,signalNoticed:!1,errorMessage:"",pattern:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,email:""}},watch:{serverResponse:function(){this.validateField()}},methods:l()({},Object(d.d)({setField:"SIGN_UP_M_SET_FIELD"}),{validateField:function(){this.isTouched&&(this.isTouched=!1),this.signalNoticed||-1===this.serverResponse.errmsg.indexOf("email")?0===this.email.length?(this.isValid=!1,this.errorMessage="Field mustn't be empty!",this.setField({field:"email",state:!1})):this.email.match(this.pattern)?(this.isValid=!0,this.setField({field:"email",state:!0,value:this.email})):(this.isValid=!1,this.errorMessage="Entered email is not valid!",this.setField({field:"email",state:!1})):(this.signalNoticed=!0,this.isValid=!1,this.errorMessage="User with this email already exists!")}})},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"name"}},[t._v("Email")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":!t.isValid&&!t.isTouched},attrs:{id:"name",name:"name",maxlength:"100",type:"text"},domProps:{value:t.email},on:{input:[function(e){e.target.composing||(t.email=e.target.value)},t.validateField]}}),t._v(" "),t.isValid||t.isTouched?t._e():s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errorMessage))])])},staticRenderFns:[]},b=s("VU/8")(S,A,!1,function(t){s("a4U7")},"data-v-f18bea3a",null).exports,O={data:function(){return{isValid:!1,isTouched:!0,errorMessage:"",password:""}},methods:l()({},Object(d.d)({setField:"SIGN_UP_M_SET_FIELD"}),{validateField:function(){this.isTouched&&(this.isTouched=!1),0===this.password.length?(this.isValid=!1,this.errorMessage="Field mustn't be empty!",this.setField({field:"password",state:!1})):this.password.length<8?(this.isValid=!1,this.errorMessage="Entered password is too short!",this.setField({field:"password",state:!1})):this.password.match("^[A-Za-z0-9]+$")?(this.isValid=!0,this.setField({field:"password",state:!0,value:this.password})):(this.isValid=!1,this.errorMessage="Entered password is not valid!",this.setField({field:"password",state:!1}))}})},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"name"}},[t._v("Password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":!t.isValid&&!t.isTouched},attrs:{id:"name",name:"name",maxlength:"100",type:"password"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},t.validateField]}}),t._v(" "),t.isValid||t.isTouched?t._e():s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errorMessage))])])},staticRenderFns:[]},R=s("VU/8")(O,I,!1,function(t){s("loTf")},"data-v-6b6131a7",null).exports,w={data:function(){return{isValid:!1,isTouched:!0,errorMessage:"",passwordConfirmation:""}},computed:l()({},Object(d.c)({form:"SIGN_UP_G_GET_FORM"})),methods:l()({},Object(d.d)({setField:"SIGN_UP_M_SET_FIELD"}),{validateField:function(){this.isTouched&&(this.isTouched=!1),this.passwordConfirmation!==this.form.password.value?(this.isValid=!1,this.errorMessage="Passwords do not match!",this.setField({field:"passwordConf",state:!1})):(this.isValid=!0,this.setField({field:"passwordConf",state:!0,value:this.passwordConfirmation}))}})},N={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"name"}},[t._v("Repeat your password")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordConfirmation,expression:"passwordConfirmation"}],staticClass:"form-control",class:{"is-invalid":!t.isValid&&!t.isTouched},attrs:{id:"name",name:"name",maxlength:"100",type:"password"},domProps:{value:t.passwordConfirmation},on:{input:[function(e){e.target.composing||(t.passwordConfirmation=e.target.value)},t.validateField]}}),t._v(" "),t.isValid||t.isTouched?t._e():s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errorMessage))])])},staticRenderFns:[]},G=s("VU/8")(w,N,!1,function(t){s("cpt0")},"data-v-12c68f62",null).exports,U={data:function(){return{isValid:!1,isTouched:!0,errorMessage:"",phone:""}},methods:l()({},Object(d.d)({setField:"SIGN_UP_M_SET_FIELD"}),{validateField:function(){this.isTouched&&(this.isTouched=!1),0===this.phone.length?(this.isValid=!1,this.errorMessage="Field mustn't be empty!",this.setField({field:"phone",state:!1})):(this.isValid=!0,this.setField({field:"phone",state:!0,value:this.phone}))}})},F={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"name"}},[t._v("Phone number")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",class:{"is-invalid":!t.isValid&&!t.isTouched},attrs:{id:"name",name:"name",maxlength:"100",type:"number"},domProps:{value:t.phone},on:{input:[function(e){e.target.composing||(t.phone=e.target.value)},t.validateField]}}),t._v(" "),t.isValid||t.isTouched?t._e():s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errorMessage))])])},staticRenderFns:[]},M=s("VU/8")(U,F,!1,function(t){s("S0Mc")},"data-v-448d043d",null).exports,y={data:function(){return{isValid:!1,isTouched:!0,errorMessage:"",age:""}},methods:l()({},Object(d.d)({setField:"SIGN_UP_M_SET_FIELD"}),{validateField:function(){this.isTouched&&(this.isTouched=!1),""===this.age?(this.isValid=!1,this.errorMessage="Field mustn't be empty",this.setField({field:"age",state:!1})):Number(this.age)>110||!function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(this.age)||"0"===this.age[0]?(this.isValid=!1,this.errorMessage="Entered age is not valid!",this.setField({field:"age",state:!1})):(this.isValid=!0,this.setField({field:"age",state:!0,value:this.age}))}})},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"name"}},[t._v("Age")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.age,expression:"age"}],staticClass:"form-control",class:{"is-invalid":!t.isValid&&!t.isTouched},attrs:{id:"name",name:"name",maxlength:"100",type:"number"},domProps:{value:t.age},on:{input:[function(e){e.target.composing||(t.age=e.target.value)},t.validateField]}}),t._v(" "),t.isValid||t.isTouched?t._e():s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errorMessage))])])},staticRenderFns:[]},L=s("VU/8")(y,x,!1,function(t){s("McQ+")},"data-v-f8570d50",null).exports,V={computed:l()({},Object(d.c)({form:"SIGN_UP_G_GET_FORM"})),methods:l()({},Object(d.d)({setField:"SIGN_UP_M_SET_FIELD"}),{switcher:function(t){this.setField({field:"gender",state:!0,value:t})}})},P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{class:{active:"male"===t.form.gender.value},attrs:{id:"on"},on:{click:function(e){t.switcher("male")}}},[t._v("\n        Male\n    ")]),t._v(" "),s("div",{class:{active:"female"===t.form.gender.value},attrs:{id:"off"},on:{click:function(e){t.switcher("female")}}},[t._v("\n        Female\n    ")])])},staticRenderFns:[]},H=s("VU/8")(V,P,!1,function(t){s("vcTv")},"data-v-9f38b37e",null).exports,k={data:function(){return{pass:!1}},computed:l()({},Object(d.c)({form:"SIGN_UP_G_GET_FORM",formIsValid:"SIGN_UP_G_GET_IS_VALID",serverResponse:"SIGN_UP_G_GET_SERVER_RESPONSE"})),watch:{form:{handler:function(){console.log("SignUP form was changed"),this.validateForm()},deep:!0}},methods:l()({},Object(d.b)({submit:"LOGIN_SEND_A_SIGN_UP_REQUEST"}),Object(d.d)({validateForm:"SIGN_UP_M_VALIDATE_FORM"})),components:{UsernameField:E,EmailField:b,PasswordField:R,PasswordConfirmationField:G,PhoneField:M,AgeField:L,Switcher:H},created:function(){console.log(" FORM FORM FORM",this.form)}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal fade",attrs:{id:"SignUpModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[this._m(0,!1,!1),this._v(" "),e("div",{staticClass:"modal-body"},[e("form",[e("hr",{staticClass:"modal-divider"}),this._v(" "),e("username-field",{attrs:{serverResponse:this.serverResponse}}),this._v(" "),e("email-field",{attrs:{serverResponse:this.serverResponse}}),this._v(" "),e("password-field"),this._v(" "),e("password-confirmation-field"),this._v(" "),e("phone-field"),this._v(" "),e("age-field"),this._v(" "),e("div",{staticClass:"form-group"},[e("label",{staticClass:"label"},[this._v("Choose your gender")]),this._v(" "),e("switcher")],1)],1),this._v(" "),e("hr",{staticClass:"modal-divider"})]),this._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Close")]),this._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:!this.formIsValid},on:{click:this.submit}},[this._v("Submit")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h2",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Sign up on "),e("span",{staticClass:"logo"},[this._v("Werewolf")])]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},D=s("VU/8")(k,$,!1,function(t){s("HZPN")},"data-v-3256333c",null).exports,j={computed:l()({},Object(d.c)({currentUser:"SESSION_G_GET_CURRENT_USER",userType:"SESSION_G_GET_USER_TYPE"})),components:{LogInModal:g,SignUpModal:D}},K={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[e("router-link",{staticClass:"navbar-brand text-info",attrs:{tag:"div",to:"/",exact:"",href:"#"}},[this._v("Werewolf")]),this._v(" "),this._m(0,!1,!1),this._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}}),this._v(" "),e("ul",{staticClass:"nav navbar-nav navbar-right"},[e("li",[e("a",{attrs:{href:"#"}},["user"===this.userType||"admin"===this.userType?e("div",{staticClass:"loggedAs"},[this._v("\n                        Logged in as "),e("span",[this._v(this._s(this.currentUser.username))])]):e("div",{staticClass:"sign"},[e("a",{attrs:{href:"#","data-toggle":"modal","data-target":"#LogInModal"}},[this._v("log in")]),this._v("\n                        |\n                        "),e("a",{attrs:{href:"#","data-toggle":"modal","data-target":"#SignUpModal"}},[this._v("sign up")])])])]),this._v(" "),e("li",["user"===this.userType||"admin"===this.userType?e("a",{staticClass:"logout",attrs:{href:"#"},on:{click:this.logOut}},[this._v("\n                    log out\n                ")]):this._e()])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}]},q=s("VU/8")(j,K,!1,function(t){s("m+gq")},"data-v-14ae4b8e",null).exports,W={computed:l()({},Object(d.c)({user:"SESSION_G_GET_CURRENT_USER"}),{notifications:function(){return this.user.notifications.filter(function(t){return"pending"===t.state})}})},Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav flex-column"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{tag:"div","active-class":"text-info",to:"/",exact:""}},[this._v("Home")])],1),this._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{tag:"div","active-class":"text-info",to:"/profile"}},[this._v("Profile")])],1),this._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{tag:"div","active-class":"text-info",to:"/chats"}},[this._v("Chats")])],1),this._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{tag:"div","active-class":"text-info",to:"/notifications"}},[this._v("\n            Notifications\n            "),e("span",{directives:[{name:"show",rawName:"v-show",value:0!==this.notifications.length,expression:"notifications.length !== 0"}],staticClass:"badge badge-secondary"},[this._v(this._s(this.notifications.length))])])],1)])},staticRenderFns:[]},z={components:{SideBar:s("VU/8")(W,Y,!1,function(t){s("JKqy")},"data-v-32e53793",null).exports}},B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-2 col-md-3"},[e("side-bar")],1),this._v(" "),e("transition",{attrs:{name:"slide",mode:"out-in"}},[e("router-view",{staticClass:"col-lg-10 col-md-9"})],1)],1)},staticRenderFns:[]},J=s("VU/8")(z,B,!1,function(t){s("wkgJ")},"data-v-6e768591",null).exports,Q=new n.a({data:function(){return{queueState:"noErrors",errors:[],currentError:null}},methods:{pushError:function(t){this.errors.push(t),console.log(this.errors)},shiftError:function(){this.currentError=this.errors.shift(),this.$emit("error",this.currentError),this.queueState="showingError"}},watch:{queueState:function(t){var e=this;"ready"===t?this.shiftError():"showingError"===t&&setTimeout(function(){e.currentError=null,0===e.errors.length?(e.queueState="noErrors",e.$emit("error",null)):e.queueState="ready"},4e3)},errors:function(t){console.log("NEW ERRORS",t),1===t.length&&"showingError"!==this.queueState&&(this.queueState="ready")}},created:function(){var t=this;this.$on("pushError",function(e){t.pushError(e)})}}),X={data:function(){return{currentError:null}},watch:{errors:function(t){console.log("errors errors errors",t)}},created:function(){var t=this;Q.$on("error",function(e){t.currentError=e})}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return this.currentError?e("div",{staticClass:"row error-box alert-danger bg-danger text-center"},[e("div",{staticClass:"col-lg-12"},[this._v("\n        "+this._s(this.currentError.message)+"\n    ")])]):this._e()},staticRenderFns:[]},tt={created:function(){this.$store.dispatch("APP_A_INIT_APP")},components:{AppHeader:q,AppContent:J,ErrorBox:s("VU/8")(X,Z,!1,function(t){s("8Adb")},"data-v-f9fa6682",null).exports}},et={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"component-app"},[e("div",{staticClass:"container app-header-container"},[e("app-header")],1),this._v(" "),e("div",{staticClass:"header-divider"}),this._v(" "),e("div",{staticClass:"container"},[e("app-content")],1),this._v(" "),e("div",{staticClass:"error-box-wraper"},[e("div",{staticClass:"container"},[e("error-box",{staticClass:"errbox"})],1)])])},staticRenderFns:[]},st=s("VU/8")(tt,et,!1,function(t){s("B56u")},null,null).exports,it=s("ORbq"),at=s("/ocq"),nt={props:{title:{type:String,default:"Title sample"}}},rt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ww-box-header"},[e("h5",[this._v(this._s(this.title))]),this._v(" "),e("hr")])},staticRenderFns:[]},ot=s("VU/8")(nt,rt,!1,function(t){s("MSAe")},"data-v-18977d3e",null).exports,ct={props:{content:{type:String,default:"notice content"},index:{type:Number},title:{type:String,default:"Notice title"},shortcut:{type:Boolean,default:!1},src:{type:String,default:null},state:{type:String}},methods:{}},lt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"media"},[t.src?s("img",{staticClass:"mr-3",attrs:{src:t.src,alt:"Generic placeholder image"}}):t._e(),t._v(" "),s("div",{staticClass:"media-body"},[s("h5",{staticClass:"ml-3 mt-2"},[t._v(t._s(t.title))]),t._v(" "),s("p",{staticClass:"ml-3 mb-2"},[t._v(t._s(t.content))]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"notification-footer",class:{"bg-danger":"rejected"===t.state,"bg-success":"accepted"===t.state}},["pending"===t.state?s("div",{staticClass:"buttons text-right"},[s("button",{staticClass:"btn btn-outline-success btn-sm",on:{click:function(e){t.$emit("accept",t.index)}}},[t._v("accept")]),t._v(" "),s("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:function(e){t.$emit("reject",t.index)}}},[t._v("reject")])]):t._e(),t._v(" "),"rejected"===t.state?s("div",{staticClass:"text-right notification-sign"},[t._v("\n                    You rejected this invite\n                ")]):t._e(),t._v(" "),"accepted"===t.state?s("div",{staticClass:"text-right notification-sign"},[t._v("\n                    You accepted this invite\n                ")]):t._e()])])])])},staticRenderFns:[]},dt=s("VU/8")(ct,lt,!1,function(t){s("ybx0")},"data-v-920ec6f6",null).exports,ut={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row addressee-list-item",on:{click:function(e){t.itemClickFunc(t.index)}}},[s("div",{staticClass:"col-lg-1"},[s("img",{staticClass:"addressee-avatar rounded-circle",attrs:{src:t.user.avatarUrl}})]),t._v(" "),s("div",{staticClass:"col-lg-11"},[s("div",{staticClass:"addressee-username"},[t._v(t._s(t.user.username))]),t._v(" "),s("div",{staticClass:"addressee-id"},[t._v(t._s(t.user._id))])])])},staticRenderFns:[]},ht={props:["users","itemClickFunc"],components:{AddresseeListItem:s("VU/8")({props:["user","index","itemClickFunc"]},ut,!1,function(t){s("w5ro")},"data-v-7c59b381",null).exports}},_t={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{directives:[{name:"prevent-parent-scroll",rawName:"v-prevent-parent-scroll"}],staticClass:"addressee-list ww-box"},[s("transition-group",{attrs:{name:"addressee",tag:"div",mode:"in-out"}},t._l(t.users,function(e,i){return s("addressee-list-item",{key:e._id,staticClass:"addressee-list-item",attrs:{index:i,user:e,itemClickFunc:t.itemClickFunc}})}))],1)},staticRenderFns:[]},vt=s("VU/8")(ht,_t,!1,function(t){s("FMDp")},"data-v-7e9110d0",null).exports,ft={computed:l()({},Object(d.c)({user:"SESSION_G_GET_CURRENT_USER"}))},mt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("Welcome to WEREWOLF")]),this._v(" "),e("hr"),this._v(" "),e("h3",[this._v("Dear "),this.user.username?e("span",[this._v(this._s(this.user.username))]):e("span",[this._v("guest!")])])])},staticRenderFns:[]},pt=s("VU/8")(ft,mt,!1,function(t){s("oTKX")},null,null).exports,gt={props:["chat"],computed:l()({},Object(d.c)({currentChat:"CHAT_G_GET_CHAT"})),methods:{changeChat:function(){this.$router.push("/chats/"+this.chat._id)},goToChatSettings:function(){this.$router.push("/chats/"+this.chat._id+"/settings/members")}}},Ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chat-list-item",class:{"active-chat":t.chat._id===t.currentChat._id},on:{click:t.changeChat}},[s("div",{staticClass:"media"},[s("img",{staticClass:"mr-3 rounded",attrs:{src:t.chat.coverUrl,alt:"Generic placeholder image"}}),t._v(" "),s("div",{staticClass:"media-body"},[s("h5",{staticClass:"mt-0"},[t._v(t._s(t.chat.title)+" "),0!==t.chat.notifications?s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(t.chat.notifications))]):t._e()]),t._v(" "),s("h6",[t._v("Creator: "+t._s(t.chat.creator.username))])]),t._v(" "),s("div",{staticClass:"icons"},[t._m(0,!1,!1),t._v(" "),s("button",{staticClass:"btn btn-outline-info btn-sm",on:{click:function(e){e.stopPropagation(),t.goToChatSettings(e)}}},[s("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}})])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-outline-info btn-sm"},[e("i",{staticClass:"fa fa-sign-out",attrs:{"aria-hidden":"true"}})])}]},Tt=s("VU/8")(gt,Ct,!1,function(t){s("2OIX")},"data-v-2757cbc3",null).exports,Et={computed:l()({},Object(d.c)({appState:"APP_G_GET_APP_STATE",availableChats:"CHATLIST_G_GET_AVAILABLE_CHATS"})),components:{ChatListItem:Tt},watch:{appState:function(t){t&&this.getChatList()}},methods:l()({},Object(d.b)({getChatList:"CHATLIST_A_FETCH_AVAILABLE_CHATS"})),created:function(){this.appState&&this.getChatList()}},St={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"chat-list-box ww-box"},[e("ww-header",{attrs:{title:"Chats"}}),this._v(" "),e("div",{directives:[{name:"prevent-parent-scroll",rawName:"v-prevent-parent-scroll"}],staticClass:"chat-list"},this._l(this.availableChats,function(t){return e("chat-list-item",{staticClass:"chat-list-item",attrs:{chat:t}})})),this._v(" "),e("div",{staticClass:"add-chat-btn-wrapper"},[e("div",{staticClass:"text-center"},[e("router-link",{staticClass:"btn btn-info text-center add-chat-btn",attrs:{tag:"button",to:"/chats/create"}},[this._v("\n                    Add new chat\n                ")])],1)])],1)])},staticRenderFns:[]},At=s("VU/8")(Et,St,!1,function(t){s("+DRP")},"data-v-f4c45dd0",null).exports,bt={render:function(){var t=this.$createElement,e=this._self._c||t;return this.typingUsers&&this.typingUsers.length>0?e("div",{staticClass:"typing-users text-left"},[e("div",[this._v(this._s(this.string))])]):this._e()},staticRenderFns:[]},Ot=s("VU/8")({props:["typingUsers"],computed:{string:function(){var t=this;if(this.typingUsers){var e=this.$store.getters.SESSION_G_GET_CURRENT_USER,s=void 0;if(this.typingUsers.forEach(function(s,i){s===e.username&&t.typingUsers.splice(i,1)}),s=this.typingUsers.length>2?"and "+(this.typingUsers.length-2)+" others":"",1===this.typingUsers.length)return this.typingUsers[0]+" is typing now ";if(this.typingUsers.length>1)return this.typingUsers[0]+", "+this.typingUsers[1]+" "+s+" are typing now "}}}},bt,!1,function(t){s("INW7")},"data-v-1b3263cb",null).exports,It={props:["chat"],data:function(){return{isTyping:!1,showUsersList:!1}},computed:{message:{get:function(){return this.$store.getters.CHAT_G_GET_NEW_MESSAGE},set:function(t){return this.$store._mutations.CHAT_M_SET_NEW_MESSAGE[0](t)}}},watch:{isTyping:function(t){this.$store.dispatch("CHAT_A_CHANGE_TYPING_STATE",t)}},methods:l()({},Object(d.b)({sendMessage:"CHAT_A_SEND_MESSAGE"}),{sendMessageWrapper:function(){var t=this.message.indexOf(":"),e=this.message.slice(0,t);e.match(/^@[a-zA-Z0-9]{24}\([a-zA-Z0-9_]{1,16}\)$/)?this.sendMessage({content:this.message.slice(t+1),target:e.slice(1,25),type:"private"}):this.sendMessage({content:this.message,type:"public"}),this.isTyping=!1},inputHandler:function(){this.showUsersList="@"===this.message},addAddressee:function(t){this.message="@"+this.chat.members[t]._id+"("+this.chat.members[t].username+"):",this.inputHandler()}}),components:{TypingUsers:Ot}},Rt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"editor-wrapper row no-gutters justify-content-center"},[t.showUsersList?s("addressee-list",{staticClass:"addressee-list col-lg-10",attrs:{users:t.chat.members,itemClickFunc:t.addAddressee}}):t._e(),t._v(" "),s("typing-users",{staticClass:"typing-users col-lg-10",attrs:{typingUsers:t.chat.typingUsers}}),t._v(" "),s("div",{staticClass:"col-lg-9"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control align-left editor ww-box",attrs:{id:"messageEditor",rows:"3"},domProps:{value:t.message},on:{keydown:function(e){t.isTyping=!0},leavefocus:function(e){t.isTyping=!1},change:function(e){t.isTyping=!1},input:[function(e){e.target.composing||(t.message=e.target.value)},t.inputHandler]}})]),t._v(" "),s("div",{staticClass:"send-button-wrapper col-lg-1"},[s("button",{staticClass:"btn btn-outline-info send-button",on:{click:t.sendMessageWrapper}},[s("i",{staticClass:"fa fa-paper-plane",attrs:{"aria-hidden":"true"}})])])],1)])},staticRenderFns:[]},wt=s("VU/8")(It,Rt,!1,function(t){s("YgDo")},"data-v-06544c15",null).exports,Nt={render:function(){var t=this.$createElement,e=this._self._c||t;return this.isPrivate&&this.privateTarget||this.isAuthor||!this.privateM?e("div",[this.message.sameUser?this._e():e("div",{staticClass:"col-lg-5 image-wrapper"},[e("img",{staticClass:"rounded-circle",attrs:{src:this.message.author.avatarUrl,height:"30px"}})]),this._v(" "),this.message.sameUser?this._e():e("div",{staticClass:"col-lg-12"}),this._v(" "),this.message.sameUser?this._e():e("div",{staticClass:"user-info col-lg-5"},[this._v("\n        "+this._s(this.message.author.username)+"\n    ")]),this._v(" "),e("div",{staticClass:"col-lg-12 divider"}),this._v(" "),e("div",{staticClass:"message col-lg-5",class:{"current-user-message":this.isAuthor&&!this.isPrivate,"private-message":this.isPrivate}},[this.isPrivate&&this.isAuthor?e("span",[this._v("\n            to "),e("span",{staticClass:"target"},[this._v(" "+this._s(this.message.target.username))]),this._v(" "),e("br")]):this._e(),this._v("\n\n        "+this._s(this.message.content)+"\n\n        "),e("div",{style:{color:"rgba(160, 160, 160, 1)"}},[this._v("\n            "+this._s(this._f("timestamp")(this.message.timestamp))+"\n        ")])])]):this._e()},staticRenderFns:[]},Gt=s("VU/8")({props:["message","isOwner","privateM","privateTarget","isPrivate","isAuthor"],data:function(){return{}},created:function(){},components:{}},Nt,!1,function(t){s("t3hq")},"data-v-16688a9b",null).exports,Ut={computed:l()({},Object(d.c)({appState:"APP_G_GET_APP_STATE",chat:"CHAT_G_GET_CHAT",currentUser:"SESSION_G_GET_CURRENT_USER",scrollEvent:"CHAT_G_GET_SCROLL_EVENT"})),watch:{$route:function(t,e){this.beforeLeaveChat(),this.getChat(t.params.id)},appState:function(t){t&&this.getChat(this.$route.params.id)},chat:function(t){t&&this.$store._mutations.CHATLIST_M_RESET_NOTIFICATIONS[0](t._id)},scrollEvent:function(t){var e=this;console.log("scroll"),t&&setTimeout(function(){var t=e.$el.querySelector("#messageList"),s=t.lastElementChild.previousElementSibling.lastElementChild,i=0;if(t.scrollTop+s.offsetHeight+s.previousElementSibling.offsetHeight+t.clientHeight>=t.scrollHeight)var a=setInterval(function(){t.scrollHeight-t.clientHeight===t.scrollTop&&clearInterval(a),++i,t.scrollTop=t.scrollTop+10},30)},100)}},methods:l()({},Object(d.b)({beforeLeaveChat:"CHAT_A_BEFORE_LEAVE_CHAT",getChat:"CHAT_A_FETCH_CHAT"})),components:{Editor:wt,Message:Gt},created:function(){this.appState&&this.getChat(this.$route.params.id)},beforeRouteLeave:function(t,e,s){this.beforeLeaveChat(),s()}},Ft={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"chat-box ww-box"},[t.chat._id?s("ww-header",{attrs:{title:t.chat.title}}):t._e(),t._v(" "),t.chat?s("div",{directives:[{name:"prevent-parent-scroll",rawName:"v-prevent-parent-scroll"}],staticClass:"message-list",attrs:{id:"messageList"}},[s("transition-group",{staticClass:"transition-group-message",attrs:{name:"message",tag:"div"}},t._l(t.chat.messages,function(e){return s("message",{key:e._id,staticClass:"row message-list-item",class:{"justify-content-end":e.author._id===t.currentUser._id},attrs:{id:e._id,isAuthor:e.author._id===t.currentUser._id,isPrivate:"private"===e.type,message:e,privateTarget:e.target&&e.target._id===t.currentUser._id}})})),t._v(" "),s("div",{staticClass:"placeholder"})],1):t._e(),t._v(" "),s("hr"),t._v(" "),t.chat?s("editor",{staticClass:"textarea",attrs:{online:t.chat.online,chat:t.chat}}):t._e()],1)])},staticRenderFns:[]},Mt=s("VU/8")(Ut,Ft,!1,function(t){s("NYCh")},"data-v-6e433ab8",null).exports,yt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n\n    <== Choose a chat\n\n")])},staticRenderFns:[]},xt=(s("VU/8")({},yt,!1,function(t){s("f+vA")},"data-v-ffb1600c",null).exports,{render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",{staticClass:"form-control-label",attrs:{for:"name"}},[t._v("Chat title")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.chatTitle,expression:"chatTitle"}],staticClass:"form-control",class:{"is-invalid":!t.isValid&&t.isTouched},attrs:{id:"name",name:"name",maxlength:"16",type:"text"},domProps:{value:t.chatTitle},on:{input:[function(e){e.target.composing||(t.chatTitle=e.target.value)},t.validateField]}}),t._v(" "),!t.isValid&&t.isTouched?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errorMessage))]):t._e()])},staticRenderFns:[]}),Lt=s("VU/8")({props:["serverSignal","setTitle","titleIsValid"],data:function(){return{isValid:!1,isTouched:!1,signalNoticed:!1,errorMessage:"",chatTitle:""}},watch:{serverSignal:function(){this.validateField()}},methods:{validateField:function(){this.isTouched||(this.isTouched=!0),this.signalNoticed||-1===this.serverSignal.errmsg.indexOf("title")?0===this.chatTitle.length?(this.setTitle("",!1),this.isValid=!1,this.errorMessage="Field mustn't be empty!"):this.chatTitle.match(/^[A-Za-z0-9_.]+$/)?(this.isValid=!0,this.setTitle(this.chatTitle,!0)):(this.setTitle("",!1),this.isValid=!1,this.errorMessage="Entered username is not valid!"):(this.signalNoticed=!0,this.isValid=!1,this.setTitle("",!1),this.errorMessage="This title already exists!")}}},xt,!1,function(t){s("oXO8")},"data-v-044088e4",null).exports,Vt={data:function(){return{title:"",titleIsValid:!1,serverSignal:{errmsg:""}}},computed:l()({},Object(d.c)({user:"SESSION_G_GET_CURRENT_USER"})),methods:{createChat:function(){var t=this;o.a.post("/private/chats",{creator:this.user._id,title:this.title,type:"public"}).then(function(t){return console.log(t)}).catch(function(e){return t.serverSignal=e.body})},setTitle:function(t,e){this.title=t,this.titleIsValid=e}},components:{ChatTitleField:Lt}},Pt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"chat-create row ww-box"},[e("ww-header",{staticClass:"col-lg-12",attrs:{title:"Create a new chat"}}),this._v(" "),e("div",{staticClass:"chat-title col-lg-12 mt-3"},[e("chat-title-field",{attrs:{serverSignal:this.serverSignal,setTitle:this.setTitle}}),this._v(" "),e("button",{staticClass:"btn btn-default",attrs:{disabled:!this.titleIsValid,titleIsValid:this.titleIsValid},on:{click:this.createChat}},[this._v("\n                Create\n            ")])],1)],1)])},staticRenderFns:[]},Ht=s("VU/8")(Vt,Pt,!1,function(t){s("V5xc")},"data-v-548cb0d4",null).exports,kt=s("4RJ8"),$t=s.n(kt),Dt=s("1Wvq"),jt={props:["user"],components:{FileUpload:s.n(Dt).a},data:function(){return{files:[],edit:!1,cropper:!1}},computed:l()({},Object(d.c)({token:"LOCAL_STORAGE_G_GET_TOKEN"})),watch:{edit:function(t){t?this.$nextTick(function(){if(this.$refs.editImage){var t=new $t.a(this.$refs.editImage,{aspectRatio:1,viewMode:1});this.cropper=t}}):this.cropper&&(this.cropper.destroy(),this.cropper=!1)}},methods:l()({},Object(d.d)({setCssClass:"PROFILE_M_SET_CSS"}),{editSave:function(){this.edit=!1;for(var t=this.files[0],e=atob(this.cropper.getCroppedCanvas().toDataURL(t.type).split(",")[1]),s=new Uint8Array(e.length),i=0;i<e.length;i++)s[i]=e.charCodeAt(i);var a=new File([s],t.name,{type:t.type});this.$refs.upload.update(t.id,{file:a,type:a.type,size:a.size,active:!0})},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){alert(t)}),inputFile:function(t,e,s){t&&!e&&this.$nextTick(function(){this.edit=!0}),!t&&e&&(this.edit=!1)},inputFilter:function(t,e,s){if(t&&!e&&!/\.(gif|jpg|jpeg|png|webp)$/i.test(t.name))return this.alert("Your choice is not a picture"),s();if(t&&(!e||t.file!==e.file)){t.url="";var i=window.URL||window.webkitURL;i&&i.createObjectURL&&(t.url=i.createObjectURL(t.file))}}})},Kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"example-avatar"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.$refs.upload&&t.$refs.upload.dropActive,expression:"$refs.upload && $refs.upload.dropActive"}],staticClass:"drop-active"},[s("h3",[t._v("Drop files to upload")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],staticClass:"avatar-upload"},[s("div",{staticClass:"text-center p-2"},[s("label",{attrs:{for:"avatar"}},[s("img",{staticClass:"rounded-circle",attrs:{src:t.files.length?t.files[0].url:t.user.avatarUrl}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 avatar-info"},[t._m(0,!1,!1),t._v(" "),s("div",{staticClass:"p-2"},[s("file-upload",{ref:"upload",staticClass:"btn btn-secondary",attrs:{extensions:"gif,jpg,jpeg,png,webp",accept:"image/png,image/gif,image/jpeg,image/webp",name:"avatar",id:"avatar","post-action":"private/users/avatar",drop:!t.edit,headers:{authorization:t.token}},on:{"input-filter":t.inputFilter,"input-file":t.inputFile},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}},[t._v("\n                        Upload avatar\n                    ")])],1)])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.files.length&&t.edit,expression:"files.length && edit"}],staticClass:"avatar-edit"},[t.files.length?s("div",{staticClass:"avatar-edit-image"},[s("img",{ref:"editImage",attrs:{src:t.files[0].url}})]):t._e(),t._v(" "),s("div",{staticClass:"text-center p-4"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.$refs.upload.clear(e)}}},[t._v("Cancel")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.editSave(e)}}},[t._v("Save")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h4",[this._v("Click button or simply drop image there to change avatar")])])}]},qt=(s("VU/8")(jt,Kt,!1,function(t){s("TiXU")},null,null).exports,{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"user-profile"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-lg-10"},[e("ul",{staticClass:"nav text-center"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{tag:"a","active-class":"text-info",to:"/profile",exact:""}},[this._v("Profile")])],1),this._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{tag:"a","active-class":"active",to:"/profile/edit",exact:""}},[this._v("Edit")])],1)])]),this._v(" "),e("div",{staticClass:"col-lg-10"},[e("hr"),this._v(" "),e("div",{staticClass:"profile-field"},[e("h5",[this._v("username")]),this._v(" "),e("p",[this._v(this._s(this.user.username))])]),this._v(" "),e("div",{staticClass:"profile-field"},[e("h5",[this._v("email")]),this._v(" "),e("p",[this._v(this._s(this.user.email))])]),this._v(" "),e("div",{staticClass:"profile-field"},[e("h5",[this._v("phone")]),this._v(" "),e("p",[this._v(this._s(this.user.phone))])])])])])},staticRenderFns:[]}),Wt=s("VU/8")({props:["user"]},qt,!1,function(t){s("N88b")},"data-v-f1da2a38",null).exports,Yt={computed:l()({},Object(d.c)({user:"SESSION_G_GET_CURRENT_USER",css:"PROFILE_G_GET_CSS"})),components:{UserProfile:Wt}},zt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"profile row ww-box"},[e("ww-header",{staticClass:"col-lg-12",attrs:{title:"Profile"}}),this._v(" "),e("div",{staticClass:"col-lg-5 avatar text-center"},[e("img",{staticClass:"rounded-circle",attrs:{src:this.user.avatarUrl}})]),this._v(" "),e("transition",{attrs:{name:"side",mode:"out-in"}},[e("router-view",{staticClass:"col-lg-7 router-view",attrs:{user:this.user}})],1)],1)])},staticRenderFns:[]},Bt=s("VU/8")(Yt,zt,!1,function(t){s("AQv9")},"data-v-652995c2",null).exports,Jt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",this._b({staticClass:"form-group"},"div",this.id=Math.random(),!1),[e("label",{staticClass:"field-label",attrs:{for:this.id}},[this._v(this._s(this.field.name))]),this._v(" "),e("div",{staticClass:"input-group"},[e("input",{staticClass:"form-control",attrs:{type:"text",id:this.id,placeholder:this.field.value,"aria-label":"Search for..."}}),this._v(" "),this._m(0,!1,!1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-btn"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[this._v("Save")])])}]},Qt={props:["user"],computed:{profileFields:function(){var t=[],e=new RegExp(/username|email|phone|password/);for(var s in this.user)s.match(e)&&t.push({name:s,value:this.user[s]});return t}},components:{ProfileFieldEdit:s("VU/8")({props:["field"],computed:{},components:{},created:function(){}},Jt,!1,function(t){s("mRI2")},"data-v-0959bcca",null).exports}},Xt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"profile-edit"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-lg-10"},[e("ul",{staticClass:"nav text-center"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{tag:"a","active-class":"text-info",to:"/profile",exact:""}},[this._v("Profile")])],1),this._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{tag:"a","active-class":"text-info",to:"/profile/edit"}},[this._v("Edit")])],1)])]),this._v(" "),e("div",{staticClass:"col-lg-10"},[e("hr"),this._v(" "),this._l(this.profileFields,function(t){return e("profile-field-edit",{attrs:{field:t}})})],2)])])},staticRenderFns:[]},Zt=s("VU/8")(Qt,Xt,!1,function(t){s("2xuH")},"data-v-b40ebf7a",null).exports,te={computed:l()({},Object(d.c)({user:"SESSION_G_GET_CURRENT_USER"}),{notifications:{set:function(t){this.user.notifications=t.reverse()},get:function(){return this.user.notifications.reverse()}}}),methods:{accept:function(t){this.sendAnswer("/private/notifications/"+this.user.notifications[t]._id+"/accept",t)},reject:function(t){this.sendAnswer("/private/notifications/"+this.user.notifications[t]._id+"/reject",t)},sendAnswer:function(t,e){var s=this;o.a.post(t,this.user.notifications[e]).then(function(t){var i=t.data;s.user.notifications[e].state=i.state}).catch(function(t){Q.pushError({message:"It's something wrong. We fucked up. Try again later"})})}}},ee={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"notification-box ww-box"},[s("ww-header",{attrs:{title:"Notifications"}}),t._v(" "),s("div",{staticClass:"notifications"},[s("transition-group",{attrs:{name:"notification",tag:"div"}},t._l(t.user.notifications,function(e,i){return s("ww-notification",{key:i,staticClass:"ww-box ww-notification",attrs:{content:e.content,index:i,state:e.state,title:e.title},on:{accept:t.accept,reject:t.reject}})}))],1)],1)])},staticRenderFns:[]},se=s("VU/8")(te,ee,!1,function(t){s("tdSg")},"data-v-57a57544",null).exports,ie={computed:l()({},Object(d.c)({appState:"APP_G_GET_APP_STATE",chat:"CHAT_SETTINGS_G_GET_CHAT"})),components:{},watch:{appState:function(t){t&&this.getChat(this.$route.params.id)}},methods:l()({},Object(d.b)({getChat:"CHAT_SETTINGS_A_FETCH_CHAT"})),created:function(){this.appState&&this.getChat(this.$route.params.id)}},ae={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ww-box"},[e("div",{staticClass:"profile row "},[e("ww-header",{staticClass:"col-lg-12",attrs:{title:"Chat settings"}}),this._v(" "),e("div",{staticClass:"col-lg-5 avatar text-center"},[e("img",{staticClass:"rounded-circle",attrs:{src:this.chat.coverUrl}})]),this._v(" "),e("div",{staticClass:"col-lg-12"},[e("ul",{staticClass:"nav"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/chats/"+this.chat._id+"/settings/members",tag:"a","active-class":"text-info",exact:""}},[this._v("Members")])],1),this._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/chats/"+this.chat._id+"/settings/members/add",tag:"a","active-class":"text-info"}},[this._v("Add Members")])],1)]),this._v(" "),e("hr")])],1),this._v(" "),e("div",{staticClass:"row justify-content-center"},[e("transition",{attrs:{name:"side",mode:"out-in"}},[e("router-view",{staticClass:"col-lg-11 router-view",attrs:{members:this.chat.members}})],1)],1)])},staticRenderFns:[]},ne=s("VU/8")(ie,ae,!1,function(t){s("W/PW")},"data-v-7be03d93",null).exports,re={props:{members:{type:Array,default:[]}}},oe={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"row no-gutters"},[e("addressee-list",{staticClass:"col-lg-12",attrs:{users:this.members}})],1)])},staticRenderFns:[]},ce=s("VU/8")(re,oe,!1,function(t){s("05Yl")},"data-v-1467388c",null).exports,le={props:{members:{type:Array,default:function(){return[]}}},computed:l()({},Object(d.c)({appState:"APP_G_GET_APP_STATE",chat:"CHAT_SETTINGS_G_GET_CHAT",inviteReceivers:"CHAT_SETTINGS_G_INVITE_RECEIVERS",users:"CHAT_SETTINGS_G_GET_USERS"})),watch:{chat:function(t){t._id&&this.getUsers()}},methods:l()({},Object(d.b)({getUsers:"CHAT_SETTINGS_A_FETCH_USERS",sendNotifications:"CHAT_SETTINGS_A_SEND_NOTIFICATIONS"}),Object(d.d)({pushInviteReceivers:"CHAT_SETTINGS_M_PUSH_INVITE_RECEIVERS",resetInviteReceivers:"CHAT_SETTINGS_M_RESET_INVITE_RECEIVERS",spliceInviteReceivers:"CHAT_SETTINGS_M_SPLICE_INVITE_RECEIVERS"}),{addInviteReceiver:function(t){this.pushInviteReceivers(this.users[t])},deleteInviteReceiver:function(t){this.spliceInviteReceivers(t)}}),created:function(){this.appState&&this.chat._id&&this.getUsers()},beforeDestroy:function(){this.resetInviteReceivers()}},de={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6 list"},[e("h6",{staticClass:"ml-2 mb-3"},[this._v("Users:")]),this._v(" "),e("addressee-list",{staticClass:"addressee-list",attrs:{users:this.users,itemClickFunc:this.addInviteReceiver}}),this._v(" "),e("p",{staticClass:"ml-2"},[this._v("Click on an item to add user in opposite list")])],1),this._v(" "),e("div",{staticClass:"col-lg-6 list"},[e("h6",{staticClass:"ml-2 mb-3"},[this._v("These users will receive an invite to your chat:")]),this._v(" "),e("addressee-list",{staticClass:"addressee-list",attrs:{users:this.inviteReceivers,itemClickFunc:this.deleteInviteReceiver}}),this._v(" "),e("p",{staticClass:"ml-2"},[this._v("Click on an item removes it from list")])],1),this._v(" "),e("div",{staticClass:"col-lg-12 text-right"},[e("button",{staticClass:"btn btn-outline-info mr-2",on:{click:this.sendNotifications}},[this._v("\n                Send invites\n            ")])])])])},staticRenderFns:[]},ue=[{path:"",components:{default:pt}},{path:"/chats",component:At,beforeEnter:function(t,e,s){var i=JSON.parse(localStorage.getItem("data"));i&&""!==i.token?s():(s(!1),Q.pushError({message:"Only authorized users can access Chats"}))}},{path:"/chats/:id/settings",component:ne,children:[{path:"/chats/:id/settings/members",component:ce},{path:"/chats/:id/settings/members/add",component:s("VU/8")(le,de,!1,function(t){s("VIPp")},"data-v-43e2e5a8",null).exports}]},{path:"/chats/create",component:Ht},{path:"/chats/:id",component:Mt},{path:"/notifications",component:se},{path:"/profile",components:{default:Bt},children:[{path:"",component:Wt},{path:"edit",component:Zt}],beforeEnter:function(t,e,s){var i=JSON.parse(localStorage.getItem("data"));i&&""!==i.token?s():(s(!1),Q.pushError({message:"Only authorized users can access Profile"}))}},{path:"*",redirect:"/"}],he={state:{appState:!1},mutations:{APP_M_SET_READY_STATE:function(t,e){t.appState=!0}},actions:{APP_A_INIT_APP:function(t){t.commit;var e=t.dispatch;t.state,e("LOCAL_STORAGE_A_INIT_STORAGE"),e("SOCKET_IO_A_INIT_SOCKETS")}},getters:{APP_G_GET_APP_STATE:function(t){return t.appState}}},_e=[{id:1,name:"Rolls-Royce",price:"200"},{id:2,name:"Goggle",price:"467"},{id:3,name:"Amazon",price:"350"},{id:4,name:"Microsoft",price:"377"}],ve={state:{stocks:[]},mutations:{SET_STOCKS:function(t,e){t.stocks=e},RND_STOCKS:function(t){t.stocks.forEach(function(t){t.price=Math.round(t.price*(1+Math.random()-.5))})}},actions:{buyStock:function(t,e){(0,t.commit)("BUY_STOCKS",e)},initStocks:function(t){(0,t.commit)("SET_STOCKS",_e)},randomizeStocks:function(t){(0,t.commit)("RND_STOCKS",_e)}},getters:{stocks:function(t){return t.stocks}}},fe={state:{funds:1e4,stocksP:[]},mutations:{BUY_STOCKS:function(t,e){var s=e.stockId,i=e.quantity,a=e.stockPrice,n=t.stocksP.find(function(t){return t.id===s});n?n.quantity+=Number(i):t.stocksP.push({id:s,quantity:Number(i)}),t.funds-=a*i},SELL_STOCKS:function(t,e){var s=e.stockId,i=e.quantity,a=e.stockPrice,n=t.stocksP.find(function(t){return t.id===s});n.quantity>i?n.quantity-=i:t.stocksP.splice(t.stocksP.indexOf(n)),t.funds+=a*i}},actions:{sellStock:function(t,e){(0,t.commit)("SELL_STOCKS",e)}},getters:{stockPortfolio:function(t,e){return t.stocksP.map(function(t){var s=e.stocks.find(function(e){return console.log("elem",e),console.log("stock",t),e.id===t.id});return console.log("record",s),{id:t.id,quantity:t.quantity,name:s.name,price:s.price}})},funds:function(t){return t.funds}}},me=s("mvHQ"),pe=s.n(me),ge={state:{chatFetched:!1,currentChat:{_id:null},newMessage:"",scrollEvent:!1},mutations:{CHAT_M_ADD_MESSAGE:function(t,e){t.currentChat.messages.push(e),t.scrollEvent=!0,setTimeout(function(){t.scrollEvent=!1},100)},CHAT_M_RESET_CHAT:function(t){t.currentChat={},t.newMessage="",t.chatFetched=!1},CHAT_M_SCROLL:function(t,e){t.scrollHandler=!0,setTimeout(function(){t.scrollHandler=!1},100)},CHAT_M_SET_NEW_MESSAGE:function(t,e){t.newMessage=e},CHAT_M_SET_TYPING_USERS:function(t,e){t.currentChat.typingUsers=e}},actions:{CHAT_A_BEFORE_LEAVE_CHAT:function(t){var e=t.state,s=t.commit,i=(t.dispatch,t.getters,JSON.parse(localStorage.getItem("data"))),a=e.currentChat._id;i.chats[a]&&(i.chats[a].message=e.newMessage,e.currentChat.messages[e.currentChat.messages.length-1]&&(i.chats[a].lastMessage=e.currentChat.messages[e.currentChat.messages.length-1]._id),localStorage.setItem("data",pe()(i))),s("CHAT_M_RESET_CHAT")},CHAT_A_CHANGE_TYPING_STATE:function(t,e){var s=t.getters.SOCKET_IO_G_GET_MESSAGES_SOCKET;e?s.emit("beginTyping",{}):s.emit("finishTyping",{})},CHAT_A_FETCH_CHAT:function(t,e){var s=t.state,i=t.dispatch;o.a.get("/private/chats/"+e).then(function(t){i("CHAT_A_SET_CHAT",t.data),s.chatFetched=!0}).catch(function(t){Q.pushError({message:"Cannot get chat!"})})},CHAT_A_SEND_MESSAGE:function(t,e){var s=t.getters,i=t.commit;s.SOCKET_IO_G_GET_MESSAGES_SOCKET.emit("message",e),i("CHAT_M_SET_NEW_MESSAGE","")},CHAT_A_SET_CHAT:function(t,e){var s=t.state,i=t.getters,a=t.commit,n=i.SOCKET_IO_G_GET_MESSAGES_SOCKET,r=JSON.parse(localStorage.getItem("data")).chats;e.messages=e.messages.map(function(t,s){var i=e.messages[s-1];return i&&t&&i.author._id===t.author._id&&(t.sameUser=!0),t}),n.emit("changeChat",{currentChat:e._id,previousChat:s.currentChat._id}).emit("typingUsers",{}),e.typingUsers=[],s.currentChat=e,r[e._id]&&r[e._id].message&&a("CHAT_M_SET_NEW_MESSAGE",r[e._id].message)}},getters:{CHAT_G_GET_CHAT:function(t){return t.currentChat},CHAT_G_GET_NEW_MESSAGE:function(t){return t.newMessage},CHAT_G_GET_SCROLL_EVENT:function(t){return t.scrollEvent}}},Ce={state:{availableChats:[]},mutations:{CHATLIST_M_SET_AVAILABLE_CHATS:function(t,e){e.forEach(function(t){t.notifications=0}),t.availableChats=e},CHATLIST_M_ADD_NOTIFICATION:function(t,e){t.availableChats.forEach(function(t){t._id===e.chat&&(t.notifications+=1)})},CHATLIST_M_RESET_NOTIFICATIONS:function(t,e){t.availableChats.forEach(function(t){t._id===e&&(t.notifications=0)})}},actions:{CHATLIST_A_FETCH_AVAILABLE_CHATS:function(t,e){var s=t.commit,i=t.getters;o.a.post("/private/chats/available",i.SESSION_G_GET_CURRENT_USER.availableChats).then(function(t){return s("CHATLIST_M_SET_AVAILABLE_CHATS",t.data)}).catch(function(t){Q.pushError({message:"Can't load chat list, try again later."})})}},getters:{CHATLIST_G_GET_AVAILABLE_CHATS:function(t){return t.availableChats}}},Te={state:{dataLS:null},mutations:{LOCAL_STORAGE_M_STORE_DATA:function(t){localStorage.setItem("data",pe()(t.dataLS))},LOCAL_STORAGE_M_RESTORE_DATA:function(t){t.dataLS=JSON.parse(localStorage.getItem("data"))}},actions:{LOCAL_STORAGE_A_INIT_STORAGE:function(t){var e=t.commit;localStorage.data||localStorage.setItem("data",pe()({token:"",chats:{}})),e("LOCAL_STORAGE_M_RESTORE_DATA")},LOCAL_STORAGE_A_SET_TOKEN:function(t,e){var s=t.state,i=t.commit;s.dataLS.token=e,i("LOCAL_STORAGE_M_STORE_DATA"),i("LOCAL_STORAGE_M_RESTORE_DATA")},LOCAL_STORAGE_A_SET_MESSAGE:function(t,e){var s=t.commit,i=t.state,a=e.chat,n=e.message;i.dataLS.chats[a]||(i.dataLS.chats[a]={}),i.dataLS.chats[a].message=n,s("LOCAL_STORAGE_M_STORE_DATA"),s("LOCAL_STORAGE_M_RESTORE_DATA")},LOCAL_STORAGE_A_SET_LAST_MESSAGE:function(t,e){var s=t.commit,i=t.state,a=e.chat,n=e.message;i.dataLS.chats[a]||(i.dataLS.chats[a]={}),i.dataLS.chats[a].lastReadMessage=n,s("LOCAL_STORAGE_M_STORE_DATA"),s("LOCAL_STORAGE_M_RESTORE_DATA")}},getters:{LOCAL_STORAGE_G_GET_TOKEN:function(t){return t.dataLS.token},LOCAL_STORAGE_G_GET_STORAGE:function(t){return t.dataLS}}},Ee={state:{currentUser:{notifications:[]},userType:null},mutations:{SESSION_M_PUSH_NOTIFICATIONS:function(t,e){t.currentUser.notifications.push(e)}},actions:{SESSION_LOG_OUT:function(t){var e=t.dispatch,s=t.state;e("LOCAL_STORAGE_A_SET_TOKEN",""),s.currentUser={},s.userType="guest"},SESSION_SET_CURRENT_USER:function(t,e){var s=t.state,i=t.commit;s.currentUser=e,s.userType=e.accessRights,i("APP_M_SET_READY_STATE")}},getters:{SESSION_G_GET_CURRENT_USER:function(t){return t.currentUser},SESSION_G_GET_USER_TYPE:function(t){return t.userType}}},Se=s("DmT9"),Ae=s.n(Se),be={state:{socket:null,notifications:null,messages:null},mutations:{SOCKET_IO_M_CONNECT_TO_SOCKET:function(t,e){var s=e.socket;t[e.title]=s}},actions:{SOCKET_IO_A_INIT_SOCKETS:function(t){var e=t.commit,s=t.getters,i=t.state,a=t.dispatch,n=JSON.parse(localStorage.getItem("data")).token;e("SOCKET_IO_M_CONNECT_TO_SOCKET",{title:"socket",socket:Ae()({query:"auth_token="+n})}),i.socket.on("success",function(t){a("SESSION_SET_CURRENT_USER",t.user),e("SOCKET_IO_M_CONNECT_TO_SOCKET",{title:"notifications",socket:Ae()("/notifications")}),i.notifications.on("notification.message",function(t){s.CHAT_G_GET_CHAT._id!==t.chat&&e("CHATLIST_M_ADD_NOTIFICATION",t)}),i.notifications.on("notification.invite",function(t){console.log("notifications notifications",t),e("SESSION_M_PUSH_NOTIFICATIONS",t)}),e("SOCKET_IO_M_CONNECT_TO_SOCKET",{title:"messages",socket:Ae()("/messages")}),i.messages.on("message",function(t){t.error&&-1!==t.error.message.indexOf("content")?Q.pushError({message:"Sent message is empty!"}):t.error&&Q.pushError({message:"An error occurred!    "}),console.log("message event was fired",t);var i=s.CHAT_G_GET_CHAT;t.chat===i._id&&(i.messages[i.messages.length-1]&&i.messages[i.messages.length-1].author._id===t.author._id&&(t.sameUser=!0),e("CHAT_M_ADD_MESSAGE",t))}),i.messages.on("typingUsers",function(t){e("CHAT_M_SET_TYPING_USERS",t)})}).on("error",function(t){throw new Error(t)}).on("connect",function(){console.log("authenticated")}).on("disconnect",function(){console.log("disconnected")})}},getters:{SOCKET_IO_G_GET_ROOT_SOCKET:function(t){return t.socket},SOCKET_IO_G_GET_NOTIFICATIONS_SOCKET:function(t){return t.notifications},SOCKET_IO_G_GET_MESSAGES_SOCKET:function(t){return t.messages}}},Oe={state:{form:{email:"",password:""}},mutations:{},actions:{LOGIN_SEND_A_LOGIN_REQUEST:function(t){var e=t.state,s=t.dispatch;console.log("login",{email:e.form.email,password:e.form.password}),n.a.http.post("/auth/login",{email:e.form.email,password:e.form.password}).then(function(t){s("LOCAL_STORAGE_A_SET_TOKEN",t.body.token.split(" ")[1]),s("APP_A_INIT_APP")}).catch(function(t){Q.pushError({message:"User not found or incorrect password"})})}},getters:{LOGIN_G_GET_FORM:function(t){return t.form}}},Ie=s("M4fF"),Re=s.n(Ie),we={state:{form:{username:{value:"",state:!1},email:{value:"",state:!1},phone:{value:"",state:!1},password:{value:"",state:!1},passwordConf:{value:"",state:!1},age:{value:"",state:!1},gender:{value:"male",state:!0}},isValid:!1,serverResponse:{errmsg:""}},mutations:{SIGN_UP_M_SET_FIELD:function(t,e){var s=e.field,i=e.state,a=e.value,n=Re.a.cloneDeep(t.form);n[s].state=i,n[s].value=a,t.form=n},SIGN_UP_M_VALIDATE_FORM:function(t){console.log("SIGN_UP_M_VALIDATE_FORM",t.form);for(var e in t.form)if(!t.form[e].state)return void(t.isValid=!1);t.isValid=!0}},actions:{LOGIN_SEND_A_SIGN_UP_REQUEST:function(t){var e=t.state,s=t.dispatch,i={lastName:"The Blade",firstName:"Boris"};for(var a in e.form)i[a]=e.form[a].value;n.a.http.post("/auth/user",i).then(function(t){var e=t.body;e.token?(s("LOCAL_STORAGE_A_SET_TOKEN",e.token.split(" ")[1]),s("APP_A_INIT_APP")):Q.pushError({message:"Account successfully created, but automatic log in is not available right now. Please do it manually."})}).catch(function(t){return e.serverResponse=t.body})}},getters:{SIGN_UP_G_GET_FORM:function(t){return t.form},SIGN_UP_G_GET_IS_VALID:function(t){return t.isValid},SIGN_UP_G_GET_SERVER_RESPONSE:function(t){return t.serverResponse}}},Ne={state:{css:{profileAvatarClass:!1}},mutations:{PROFILE_M_SET_CSS:function(t,e){var s=e.element,i=e.value;return console.log("set css class",{element:s,value:i}),t[s]=i}},actions:{},getters:{PROFILE_G_GET_CSS:function(t){return t.css}}},Ge={state:{chat:{_id:null},users:[],inviteReceivers:[]},mutations:{CHAT_SETTINGS_M_PUSH_INVITE_RECEIVERS:function(t,e){t.inviteReceivers.push(e)},CHAT_SETTINGS_M_SPLICE_INVITE_RECEIVERS:function(t,e){t.inviteReceivers.splice(e,1)},CHAT_SETTINGS_M_RESET_INVITE_RECEIVERS:function(t,e){t.inviteReceivers=[]}},actions:{CHAT_SETTINGS_A_FETCH_CHAT:function(t,e){var s=t.state;t.dispatch;o.a.get("/private/chats/"+e).then(function(t){s.chat=t.data}).catch(function(t){Q.pushError({message:"Cannot get chat!"})})},CHAT_SETTINGS_A_FETCH_USERS:function(t,e){var s=t.state;t.dispatch,t.getters;o.a.get("/private/users").then(function(t){s.users=t.data}).catch(function(t){Q.pushError({message:"Cannot get a list of users!"})})},CHAT_SETTINGS_A_SEND_NOTIFICATIONS:function(t,e){var s=t.state;t.dispatch;t.getters.SOCKET_IO_G_GET_NOTIFICATIONS_SOCKET.emit("notification.invite",{receivers:s.inviteReceivers,notification:{chat:s.chat._id,content:"You've been invited to \""+s.chat.title+'" chat',sender:s.chat.creator,title:"CHAT INVITE"}})}},getters:{CHAT_SETTINGS_G_GET_CHAT:function(t){return t.chat},CHAT_SETTINGS_G_INVITE_RECEIVERS:function(t){return t.inviteReceivers},CHAT_SETTINGS_G_GET_USERS:function(t){var e={};t.chat._id&&t.chat.members.forEach(function(t){e[t._id]=!0}),t.inviteReceivers.forEach(function(t){e[t._id]=!0});var s=t.users.filter(function(t,s){return console.log("filter function",e[t._id]),!e[t._id]});return console.log("final final final final",s),console.log("unnecessaryUsers",e),s}}};n.a.use(d.a);var Ue=new d.a.Store({modules:{app:he,stocks:ve,portfolio:fe,chat:ge,chatlist:Ce,localStorage:Te,session:Ee,socketIO:be,login:Oe,signup:we,profile:Ne,chatSettings:Ge}});n.a.config.productionTip=!1,n.a.use(it.a),n.a.use(at.a),n.a.use(s("PRyM"));var Fe=new at.a({routes:ue});o.a.interceptors.request.use(function(t){return t.headers.authorization=""+JSON.parse(localStorage.getItem("data")).token,t},function(t){return a.a.reject(t)}),n.a.component("ww-header",ot),n.a.component("ww-notification",dt),n.a.component("addressee-list",vt),n.a.filter("timestamp",function(t){var e=new Date(t),s=new Date(Date.now());return e.getFullYear()===s.getFullYear()&&e.getMonth()===s.getMonth()&&e.getDay()===s.getDay()?e.getHours()+" : "+e.getMinutes():e.getMonth()+"/"+e.getDay()+"/"+e.getFullYear()+" at "+e.getHours()+" : "+e.getMinutes()}),new n.a({el:"#app",router:Fe,store:Ue,render:function(t){return t(st)}})},NYCh:function(t,e){},S0Mc:function(t,e){},TiXU:function(t,e){},V5xc:function(t,e){},VIPp:function(t,e){},"W/PW":function(t,e){},X2Ns:function(t,e){},YgDo:function(t,e){},a4U7:function(t,e){},cpt0:function(t,e){},"f+vA":function(t,e){},loTf:function(t,e){},lzk6:function(t,e){},"m+gq":function(t,e){},m3nD:function(t,e){},mRI2:function(t,e){},oTKX:function(t,e){},oXO8:function(t,e){},t3hq:function(t,e){},tdSg:function(t,e){},vcTv:function(t,e){},w5ro:function(t,e){},wkgJ:function(t,e){},ybx0:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4b50fc78dc0a2942e8a1.js.map